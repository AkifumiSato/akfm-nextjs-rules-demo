# タスク完了時のチェックリスト

## 必須実行コマンド

タスク完了時は必ず以下のコマンドを**順番通り**に実行すること：

### 1. Biome チェック・自動修正
```bash
pnpm check:fix
```
- コードスタイル・リンティングの自動修正
- ダブルクォート、セミコロン、末尾カンマなどの強制適用
- 設定ファイル: `biome.jsonc`

### 2. TypeScript 型チェック
```bash
pnpm typecheck
```
- TypeScript型エラーの確認
- tsgoコマンドで実行される

### 3. テスト実行
```bash
pnpm test:run
```
- Vitestを使用した全テスト実行
- jsdom環境でのコンポーネントテスト
- セットアップファイル: `vitest.setup.ts`

## エラー発生時の対処

### Biome エラー
- `pnpm check:fix` で自動修正されない場合は手動修正が必要
- 主なエラー：引用符、セミコロン、インデント、未使用変数

### TypeScript エラー
- 型定義の不整合を修正
- import/export の問題を確認
- Server Components関連の制約確認（`server-only`）

### テストエラー
- テストケースの修正
- モックの設定確認
- @akfm/test-utils の `step()` 使用確認

## 品質チェックポイント

### コード品質
- [ ] Biome チェック通過
- [ ] TypeScript 型チェック通過
- [ ] 全テスト通過
- [ ] 適切なエラーハンドリング実装

### 設計品質
- [ ] Server-First 設計の遵守
- [ ] Container/Presentational パターンの適用
- [ ] 適切なデータ取得パターンの使用
- [ ] コンポーネントの責務分離

## 注意事項
- **コミットはしない**: ユーザーが明示的に要求した場合のみ
- **ドキュメント作成禁止**: ユーザーが明示的に要求しない限り.mdファイルは作成しない
- **既存ファイル優先**: 新規ファイル作成より既存ファイル編集を優先